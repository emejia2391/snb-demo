{% extends 'base.html' %}
{% block content %}
<style>.btn-icon{ text-decoration:none; margin:0 4px;} select.input option{background-color:#14532d;color:#fff}</style>
<div class="card-usuarios" style="max-width:1400px;margin:28px auto;">
  <div style="display:flex;justify-content:space-between;align-items:center;margin:6px 8px 12px;">
    <h2>Áreas Sociales</h2>
    <a class="btn btn-primary" href="{{ url_for('areas_sociales_nueva') }}">Nueva área social</a>
  </div>
  <div class="table-responsive">
    <table class="table">
      <thead><tr>
        <th>ID</th><th>Nombre</th><th>Precio</th><th>Horas</th><th>Días disponibles</th><th>Estado</th>
        <th style="width:160px;text-align:center">Acciones</th></tr></thead>
      
<tbody>
        {% for a in areas %}
<tr>
  <td>{{ a.id_area }}</td>
  <td>{{ a.nombre }}</td>
  <td>Q {{ "%.2f"|format((a.precio|string)|float) if a.precio is not none else "0.00" }}</td>
  <td>{{ a.horas }}</td>
  <td>
    {{ (a.dias | join(', ')) if (a.dias is iterable and (a.dias is not string)) 
       else (a.dias | replace('[','') | replace(']','') | replace("'",'')) }}
  </td>
  <td>
    {% if (a.estado|string)|int == 1 %}
      <span class="badge-status badge-habilitado">Habilitado</span>
    {% else %}
      <span class="badge-status badge-deshabilitado">Deshabilitado</span>
    {% endif %}
  </td>
  
<td class="acciones" style="text-align:center; white-space:nowrap; gap:8px; display:flex;">
  <a class="btn-icon btn-blue" href="{{ url_for('areas_sociales_ver', id=a.id_area) }}" title="Ver" aria-label="Ver">
    <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor" aria-hidden="true">
      <path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12Z"></path>
      <circle cx="12" cy="12" r="3"></circle>
    </svg>
  </a>
  <a class="btn-icon btn-blue" href="{{ url_for('areas_sociales_editar', id=a.id_area) }}" title="Editar" aria-label="Editar">
    <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor" aria-hidden="true">
      <path d="M3 17.25V21h3.75L20.81 6.94l-3.75-3.75L3 17.25Z"></path>
      <path d="M14.06 4.94l3.75 3.75"></path>
    </svg>
  </a>
  <form method="post" action="{{ url_for('areas_sociales_eliminar', id=a.id_area) }}" onsubmit="return confirm('¿Eliminar el área #{{ a.id_area }}?');" class="inline">
    <button type="submit" class="btn-icon btn-red" title="Eliminar" aria-label="Eliminar">
      <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor" aria-hidden="true">
        <path d="M9 3h6l1 2h4v2H3V5h4l2-2Z"></path>
        <path d="M5 7h14v12a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V7Z"></path>
        <path d="M10 11v6M14 11v6" stroke="currentColor" stroke-width="2"></path>
      </svg>
    </button>
  </form>
</td>

</tr>
{% endfor %}
      </tbody>

    </table>
  </div>
</div>
{% endblock %}
